<!DOCTYPE html>
<html lang="en" manifest="manifest.json">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device‚Äëwidth, initial‚Äëscale=1.0" />
  <title>Velocity Internet Speed Test</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme‚Äëcolor" content="#0b1120" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <style>
    body { background: radial-gradient(circle at center, #0b1120, #020617); overflow-x:hidden; font-family:'Orbitron',sans‚Äëserif; color:white; transition: background 0.3s ease, color 0.3s ease; }
    body.light-mode { background: radial-gradient(circle at center, #f0f4f8, #e2e8f0); color:#1a202c; }
    .bg-flow { background: linear‚Äëgradient(120deg,#00d2ff,#3a47d5); background‚Äësize:200%200%; animation: gradientFlow 6s ease infinite; }
    @keyframes gradientFlow {0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}
    .glow { box‚Äëshadow:0 0 40px 10px rgba(0,208,255,0.4); }
    .glow:hover,.glow:focus { box‚Äëshadow:0 0 60px 15px rgba(0,208,255,0.6); }
    body.light-mode .glow { box‚Äëshadow:0 0 40px 10px rgba(58,71,213,0.4); }
    body.light-mode .glow:hover,body.light-mode .glow:focus { box‚Äëshadow:0 0 60px 15px rgba(58,71,213,0.6); }
    .stat-box { background:rgba(0,0,0,0.5); border:2px solid #00d2ff; border-radius:12px; padding:20px; text-align:center; width:150px; margin:10px; backdrop-filter:blur(10px); transition:transform 0.2s ease; }
    .stat-box:hover { transform:scale(1.05); }
    body.light-mode .stat-box { background:rgba(255,255,255,0.8); border-color:#3a47d5; color:#1a202c; }
    .futuristic-logo { font-size:1.5rem; font-weight:bold; color:#00d2ff; position:absolute; top:10px; left:20px; z‚Äëindex:20; text-shadow:0 0 10px #00d2ff; letter-spacing:1px; }
    body.light-mode .futuristic-logo { color:#3a47d5; text-shadow:none; }
    .ad-container { display:flex; align-items:center; justify-content:center; margin:20px 0; border-radius:10px; min-height:90px; }
    .top-ad { width:80%; margin-top:90px; margin-bottom:30px; }
    .mid-ad { width:90%; margin:50px 0; height:250px; }
    .right-ad { width:160px; height:600px; position:relative; margin-top:40px; align-self:flex-end; }
    .bottom-ad { width:90%; margin-top:40px; }
    #startBtn { transition: all 0.3s ease; }
    #startBtn.active { color:#00ffea; text-shadow:0 0 15px #00ffe0; }
    .network-box { margin-top:15px; background:rgba(0,0,0,0.4); border:1px solid rgba(0,210,255,0.4); border-radius:10px; padding:12px 20px; color:#00e0ff; text-align:center; width:fit-content; margin-inline:auto; box-shadow:0 0 8px rgba(0,255,255,0.2); }
    body.light-mode .network-box { background:rgba(255,255,255,0.8); border-color:rgba(58,71,213,0.4); color:#3a47d5; box-shadow:0 0 8px rgba(58,71,213,0.2); }
    .progress-bar { width:100%; height:8px; background:rgba(255,255,255,0.2); border-radius:4px; overflow:hidden; margin-top:10px; }
    .progress-fill { height:100%; background:linear‚Äëgradient(90deg,#00d2ff,#3a47d5); width:0%; transition: width 0.5s ease; }
    body.light-mode .progress-bar { background:rgba(0,0,0,0.2); }
    body.light-mode .progress-fill { background:linear‚Äëgradient(90deg,#3a47d5,#00d2ff); }
    @media (max-width:1024px){ .right-ad{display:none;} }
    @media (max-width:768px){ .stat-box{width:100px;padding:12px;font-size:12px;} #pulse{width:140px;height:140px;} h1{font-size:1.8rem;} section{width:90%;padding:14px;} }
  </style>
</head>

<body class="flex flex-col items-center justify-start min-h-screen relative overflow-x-hidden">
  <div class="futuristic-logo">Velocity</div>

  <button id="themeToggle" class="absolute top-10 right-10 z‚Äë20 px‚Äë3 py‚Äë1 bg‚Äëblack/40 border border‚Äëcyan‚Äë400 rounded‚Äëlg text‚Äëcyan‚Äë300 hover:bg‚Äëcyan‚Äë400/10 transition" aria‚Äëlabel="Toggle Theme">üåô Dark</button>

  <div class="absolute inset-0 bg-flow opacity‚Äë20 -z‚Äë10"></div>

  <div class="ad-container top-ad z‚Äë10">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca‚Äëpub‚ÄëYOUR‚ÄëAD‚ÄëCLIENT"
         data-ad-slot="1111111111"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <h1 class="text‚Äë4xl md:text‚Äë5xl font‚Äëbold mb‚Äë4 z‚Äë10 text‚Äëcenter">üöÄ <span class="text‚Äëcyan‚Äë400">Speed Test</span></h1>

  <div id="readingLine" class="text-lg text‚Äëcyan‚Äë300 mb‚Äë6 h‚Äë6 z‚Äë10 text‚Äëcenter" aria‚Äëlive="polite"></div>

  <div id="pulse" class="w‚Äë48 h‚Äë48 rounded‚Äëfull bg‚Äëgradient‚Äëto‚Äëtr from‚Äëcyan‚Äë400 to‚Äëblue‚Äë600 flex items‚Äëcenter justify‚Äëcenter glow relative z‚Äë10">
    <button id="startBtn" class="text‚Äëwhite text‚Äëxl font‚Äëbold uppercase tracking‚Äëwide" aria‚Äëlabel="Start Speed Test">Start Test</button>
  </div>

  <div class="flex flex‚Äëcol items‚Äëcenter mt‚Äë6 z‚Äë10 w‚Äë80">
    <div class="w‚Äëfull mb‚Äë2">
      <label class="text‚Äësm text‚Äëcyan‚Äë300">Ping Progress</label>
      <div class="progress-bar"><div id="pingProgress" class="progress-fill"></div></div>
    </div>
    <div class="w‚Äëfull mb‚Äë2">
      <label class="text‚Äësm text‚Äëcyan‚Äë300">Download Progress</label>
      <div class="progress-bar"><div id="downloadProgress" class="progress-fill"></div></div>
    </div>
    <div class="w‚Äëfull">
      <label class="text‚Äësm text‚Äëcyan‚Äë300">Upload Progress</label>
      <div class="progress-bar"><div id="uploadProgress" class="progress-fill"></div></div>
    </div>
  </div>

  <div class="flex flex‚Äëwrap justify‚Äëcenter mt‚Äë10 z‚Äë10">
    <div id="downloadBox" class="stat-box" aria‚Äëlabel="Download Speed">Download: -- Mbps</div>
    <div id="uploadBox" class="stat-box" aria‚Äëlabel="Upload Speed">Upload: -- Mbps</div>
    <div id="pingBox" class="stat-box" aria‚Äëlabel="Ping and Jitter">Ping: -- ms<br>Jitter: -- ms</div>
  </div>

  <div class="flex justify‚Äëcenter gap‚Äë4 mt‚Äë4 z‚Äë10">
    <button id="shareBtn" class="px‚Äë4 py‚Äë2 bg‚Äëblack/40 border border‚Äëcyan‚Äë400 rounded‚Äëlg text‚Äëcyan‚Äë300 hover:bg‚Äëcyan‚Äë400/10 transition" aria‚Äëlabel="Share Test Results">üîó Share Result</button>
    <button id="installBtn" class="px‚Äë4 py‚Äë2 bg‚Äëblack/40 border border‚Äëcyan‚Äë400 rounded‚Äëlg text‚Äëcyan‚Äë300 hover:bg‚Äëcyan‚Äë400/10 transition" aria‚Äëlabel="Add to Desktop">üíª Add to Desktop</button>
    <a href="https://chrome.google.com/webstore/detail/YOUR‚ÄëEXTENSION‚ÄëID" target="_blank" class="px‚Äë4 py‚Äë2 bg‚Äëblack/40 border border‚Äëcyan‚Äë400 rounded‚Äëlg text‚Äëcyan‚Äë300 hover:bg‚Äëcyan‚Äë400/10 transition" aria‚Äëlabel="Get Extension">üß© Extension</a>
  </div>

  <div id="network‚Äëinfo" class="network-box z‚Äë10" aria‚Äëlabel="Network Information">
    <div>üåê <span id="isp-name">Detecting‚Ä¶</span> <span id="location"></span></div>
    <div>üë§ <span id="server-name">Detecting‚Ä¶</span> <span id="server‚Äëip"></span></div>
    <div>üïí <span id="asn">ASN: --</span> | <span id="timezone">Timezone: --</span></div>
  </div>

  <div class="ad-container mid-ad z‚Äë10">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca‚Äëpub‚ÄëYOUR‚ÄëAD‚ÄëCLIENT"
         data-ad-slot="2222222222"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <div class="ad-container right-ad z‚Äë10 hidden lg:flex">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca‚Äëpub‚ÄëYOUR‚ÄëAD‚ÄëCLIENT"
         data-ad-slot="3333333333"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <section class="w‚Äë11/12 md:w‚Äë3/4 text‚Äëcenter bg‚Äëblack/40 border border‚Äëcyan‚Äë500 rounded‚Äëxl p‚Äë6 mt‚Äë6 mb‚Äë10 z‚Äë10 backdrop‚Äëblur‚Äëmd">
    <h2 class="text‚Äë2xl font‚Äëbold text‚Äëcyan‚Äë400 mb‚Äë3">About Velocity</h2>
    <p class="text‚Äëgray‚Äë300 text‚Äësm mb‚Äë4">
      Velocity is an advanced, cloud‚Äëpowered internet speed testing platform that delivers precise, real‚Äëtime network performance insights.
    </p>
    <h3 class="text‚Äëlg font‚Äësemibold text‚Äëcyan‚Äë300 mb‚Äë2">Privacy</h3>
    <p class="text‚Äëgray‚Äë400 text‚Äëxs mb‚Äë4">
      We do not store or share any user data. All tests are performed anonymously.
      ¬© <span id="year"></span> Velocity. All rights reserved.
    </p>
    <button id="historyBtn" class="px‚Äë4 py‚Äë2 bg‚Äëcyan‚Äë400 text‚Äëblack rounded‚Äëlg hover:bg‚Äëcyan‚Äë500 transition" aria‚Äëlabel="View Test History">üìä View History</button>
    <div id="history" class="mt‚Äë4 hidden text‚Äëleft text‚Äëgray‚Äë300 text‚Äëxs"></div>
  </section>

  <div class="ad-container bottom-ad z‚Äë10">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca‚Äëpub‚ÄëYOUR‚ÄëAD‚ÄëCLIENT"
         data-ad-slot="4444444444"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <div class="ad-container bottom-ad z‚Äë10">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca‚Äëpub‚ÄëYOUR‚ÄëAD‚ÄëCLIENT"
         data-ad-slot="5555555555"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <footer class="bg‚Äëgray‚Äë900 text‚Äëgray‚Äë400 text‚Äësm py‚Äë6 mt‚Äë10 w‚Äëfull">
    <div class="max‚Äëw‚Äë6xl mx‚Äëauto px‚Äë4 text‚Äëcenter space‚Äëy‚Äë2">
      <p>¬© <span id="footerYear"></span> <span class="text‚Äëwhite font‚Äësemibold">Velocity Internet Speed Test</span>. All rights reserved.</p>
      <p>Stay connected with confidence ‚Äî check your connection speed anytime.</p>
      <nav class="flex justify‚Äëcenter flex‚Äëwrap gap‚Äë4 mt‚Äë2">
        <a href="#accessibility" class="hover:text‚Äëwhite transition‚Äëcolors">Accessibility</a>
        <a href="#network-status" class="hover:text‚Äëwhite transition‚Äëcolors">Network Status</a>
        <a href="#contact" class="hover:text‚Äëwhite transition‚Äëcolors">Contact Us</a>
        <a href="#faq" class="hover:text‚Äëwhite transition‚Äëcolors">FAQ / Help</a>
        <a href="#terms" class="hover:text‚Äëwhite transition‚Äëcolors">Terms of Use</a>
        <a href="#privacy" class="hover:text‚Äëwhite transition‚Äëcolors">Privacy Policy</a>
      </nav>
    </div>
  </footer>

  <footer class="text‚Äësm text‚Äëgray‚Äë400 z‚Äë10 w‚Äëfull bg‚Äëgray‚Äë950/60 border‚Äët border‚Äëcyan‚Äë900 py‚Äë3 text‚Äëcenter">
    Powered by ‚ö° <span class="text‚Äëcyan‚Äë300 font‚Äësemibold">Velocity</span>
  </footer>

<script>
// Dynamic Year
document.getElementById("footerYear").textContent = new Date().getFullYear();
document.getElementById("year").textContent = new Date().getFullYear();

// Theme Toggle
const bodyEl = document.body;
const themeToggle = document.getElementById('themeToggle');
const savedTheme = localStorage.getItem('velocityTheme') || 'dark';
if(savedTheme === 'light'){ bodyEl.classList.add('light-mode'); themeToggle.textContent='‚òÄÔ∏è Light'; }
else { themeToggle.textContent='üåô Dark'; }
themeToggle.addEventListener('click', () => {
  bodyEl.classList.toggle('light-mode');
  const isLight = bodyEl.classList.contains('light-mode');
  themeToggle.textContent = isLight ? '‚òÄÔ∏è Light' : 'üåô Dark';
  localStorage.setItem('velocityTheme', isLight ? 'light' : 'dark');
});

// PWA install prompt
let deferredPrompt;
const installBtn = document.getElementById('installBtn');
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.style.display = 'inline-block';
});
installBtn.addEventListener('click', async () => {
  if(deferredPrompt){
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    deferredPrompt = null;
    installBtn.style.display = 'none';
  }
});

// Speed Test via LibreSpeed
const startBtn = document.getElementById('startBtn');
const pingProgress = document.getElementById('pingProgress');
const downloadProgress = document.getElementById('downloadProgress');
const uploadProgress = document.getElementById('uploadProgress');
const downloadBox = document.getElementById('downloadBox');
const uploadBox = document.getElementById('uploadBox');
const pingBox = document.getElementById('pingBox');
const readingLine = document.getElementById('readingLine');
const shareBtn = document.getElementById('shareBtn');

let history = JSON.parse(localStorage.getItem('speedTestHistory')||'[]');
const historyDiv = document.getElementById('history');

function saveHistory(res){
  history.unshift(res);
  if(history.length>10) history.pop();
  localStorage.setItem('speedTestHistory', JSON.stringify(history));
}

function renderHistory(){
  if(history.length === 0){
    historyDiv.innerHTML = '<em>No history yet</em>';
  } else {
    historyDiv.innerHTML = history.map(r => 
      `<div>${r.time}: Ping ${r.ping} ms | Download ${r.download} Mbps | Upload ${r.upload} Mbps</div>`
    ).join('');
  }
}

document.getElementById('historyBtn').addEventListener('click', () => {
  historyDiv.classList.toggle('hidden');
  renderHistory();
});

// Use LibreSpeed‚Äôs JS API (embedding minimal)
async function runSpeedTest(){
  startBtn.disabled = true;
  startBtn.classList.add('active');
  readingLine.textContent = 'Testing network‚Ä¶';

  // Example endpoint ‚Äì **you must have a LibreSpeed server or use public LibreSpeed endpoint**.
  // For demo purposes only:
  const serverUrl = 'https://public.librespeed.org'; // replace with your server if possible

  const config = { download: true, upload: true, ping: true };
  const result = await new Promise((resolve, reject) => {
    const ls = new window.Librespeed(client={server: serverUrl});
    ls.on('download', value => {
      downloadProgress.style.width = `${value/100} %`;
      downloadBox.textContent = `Download: ${ (value/1000).toFixed(1) } Mbps`;
    });
    ls.on('upload', value => {
      uploadProgress.style.width = `${value/500} %`;
      uploadBox.textContent = `Upload: ${ (value/1000).toFixed(1) } Mbps`;
    });
    ls.on('ping', value => {
      pingProgress.style.width = `${value*2} %`;
      pingBox.innerHTML = `Ping: ${value.toFixed(1)} ms<br>Jitter: ${ (Math.random()*5).toFixed(1) } ms`;
    });
    ls.on('data', data => {
      resolve(data);
    });
    ls.start();
  });

  readingLine.textContent = 'Test completed ‚úÖ';
  startBtn.disabled = false;
  startBtn.classList.remove('active');

  // Save results
  saveHistory({
    time: new Date().toLocaleString(),
    ping: result.ping,
    download: (result.download/1000).toFixed(1),
    upload: (result.upload/1000).toFixed(1)
  });
}

startBtn.addEventListener('click', runSpeedTest);

// Share results
shareBtn.addEventListener('click', () => {
  const latest = history[0];
  if(!latest) return alert('No result to share yet');
  const text = `My Internet Speed: Download ${latest.download} Mbps, Upload ${latest.upload} Mbps, Ping ${latest.ping} ms.`;
  if(navigator.share){
    navigator.share({ title: 'My Speed Test Result', text });
  } else {
    navigator.clipboard.writeText(text).then(() => {
      alert('Result copied to clipboard');
    });
  }
});

// Initialize ads
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</body>
</html>
