<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Velocity Internet Speed Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.tailwindcss.com https://unpkg.com https://pagead2.googlesyndication.com https://www.googletagmanager.com; style-src 'self' 'unsafe-inline'; frame-src https://pagead2.googlesyndication.com;">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta name="description" content="Test your internet speed with Velocity: accurate download, upload, and ping measurements. Fast, free, and futuristic online speed test tool.">
  <meta name="keywords" content="internet speed test, speed test online, download speed, upload speed, ping test, fast internet test, velocity speed test">
  <meta name="author" content="Velocity">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://yourwebsite.com/speedtest"> <!-- Replace with your actual URL -->

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet"/>

  <style>
    body {
      background: radial-gradient(circle at center, #0b1120, #020617);
      overflow-x: hidden;
      font-family: 'Orbitron', sans-serif;
    }

    .bg-flow {
      background: linear-gradient(120deg, #00d2ff, #3a47d5);
      background-size: 200% 200%;
      animation: gradientFlow 6s ease infinite;
    }

    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .glow {
      box-shadow: 0 0 40px 10px rgba(0, 208, 255, 0.4);
    }

    .stat-box {
      background: rgba(0, 0, 0, 0.5);
      border: 2px solid #00d2ff;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      width: 150px;
      margin: 10px;
      backdrop-filter: blur(10px);
    }

    .futuristic-logo {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.5rem;
      font-weight: bold;
      color: #00d2ff;
      position: absolute;
      top: 10px;
      left: 20px;
      z-index: 20;
      text-shadow: 0 0 10px #00d2ff; /* Added glow */
    }

    .ad-container {
      background: #111;
      border: 2px dashed #00d2ff;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #00d2ff;
      font-size: 14px;
      margin: 20px 0;
      min-height: 90px;
    }

    .top-ad { height: 90px; width: 100%; margin-top: 80px; margin-bottom: 30px; }
    .bottom-ad { height: 90px; width: 100%; margin-top: 40px; }
    .mid-ad { height: 250px; width: 100%; margin-top: 50px; margin-bottom: 50px; }
    .right-ad { width: 160px; height: 600px; position: absolute; top: 400px; right: 10px; }

    #startBtn { transition: all 0.3s ease; }
    #startBtn.active { color: #00ffea; text-shadow: 0 0 15px #00ffe0; }

    @media (max-width: 640px) {
      .right-ad { display: none; }
      .mid-ad { height: 150px; }
    }
  </style>
</head>

<body class="flex flex-col items-center justify-start min-h-screen text-white relative overflow-x-hidden">

  <div class="futuristic-logo">Velocity</div>

  <!-- Top Ad -->
  <div class="ad-container top-ad z-10" data-ad-loaded="false">
    <ins class="adsbygoogle" style="display: block" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX" data-ad-slot="1111111111" data-ad-format="auto" data-full-width-responsive="true"></ins>
  </div>

  <div class="absolute inset-0 bg-flow opacity-20 -z-10"></div>

  <h1 class="text-4xl md:text-5xl font-bold mb-4 z-10">
    ðŸš€ <span class="text-cyan-400">Speed Test</span>
  </h1>

  <div id="readingLine" class="text-lg text-cyan-300 mb-6 h-6 z-10"></div>

  <div id="pulse" class="w-48 h-48 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-600 flex items-center justify-center glow relative z-10">
    <button id="startBtn" class="text-white text-xl font-bold uppercase tracking-wide">Start Test</button>
  </div>

  <div class="flex mt-10 z-10">
    <div id="downloadBox" class="stat-box">Download: -- Mbps</div>
    <div id="uploadBox" class="stat-box">Upload: -- Mbps</div>
    <div id="pingBox" class="stat-box">Ping: -- ms</div>
  </div>

  <!-- Mid Ad -->
  <div class="ad-container mid-ad z-10" data-ad-loaded="false">
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX" data-ad-slot="5555555555" data-ad-format="auto" data-full-width-responsive="true"></ins>
  </div>

  <!-- About / Privacy -->
  <section class="w-11/12 md:w-3/4 text-center bg-black/40 border border-cyan-500 rounded-xl p-6 mt-6 mb-10 z-10 backdrop-blur-md">
    <h2 class="text-2xl font-bold text-cyan-400 mb-3">About Velocity</h2>
    <p class="text-gray-300 text-sm mb-4">
      Velocity is a fast and reliable online speed testing tool that helps you check your internet connection in real-time. 
      We ensure accurate results for download, upload, and ping speeds using modern measurement algorithms.
    </p>
    <h3 class="text-lg font-semibold text-cyan-300 mb-2">Privacy & Copyright</h3>
    <p class="text-gray-400 text-xs">
      We do not store or share any user data. All tests are performed anonymously for better privacy. 
      Â© <span id="year"></span> Velocity. All rights reserved.
    </p>
  </section>

  <!-- Bottom Ads -->
  <div class="ad-container bottom-ad z-10" data-ad-loaded="false">
    <ins class="adsbygoogle" style="display: block" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX" data-ad-slot="2222222222" data-ad-format="auto" data-full-width-responsive="true"></ins>
  </div>
  <div class="ad-container bottom-ad z-10" data-ad-loaded="false">
    <ins class="adsbygoogle" style="display: block" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX" data-ad-slot="3333333333" data-ad-format="auto" data-full-width-responsive="true"></ins>
  </div>

  <!-- Right Ad -->
  <div class="ad-container right-ad z-10" data-ad-loaded="false">
    <ins class="adsbygoogle" style="display: inline-block; width: 160px; height: 600px" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX" data-ad-slot="4444444444"></ins>
  </div>

  <footer class="absolute bottom-5 text-sm text-gray-400 z-10">
    Made with âš¡ by Velocity | <a href="/privacy" class="text-cyan-300">Privacy Policy</a>
  </footer>

  <!-- Scripts -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-XXXXXXXXX-X', 'auto');
    ga('send', 'pageview');

    // Optimized Ad Loading
    function loadAds() {
      const adContainers = document.querySelectorAll('.ad-container');
      adContainers.forEach(container => {
        const ins = container.querySelector('ins');
        if (ins && !container.dataset.adLoaded) {
          try {
            (adsbygoogle = window.adsbygoogle || []).push({});
            container.dataset.adLoaded = 'true';
          } catch (e) {
            console.warn('Ad failed to load:', e);
            container.innerHTML = '<p>Ad temporarily unavailable.</p>';
          }
        }
      });
    }

    window.addEventListener('load', loadAds);
    window.addEventListener('scroll', () => {
      if (window.scrollY > 200) loadAds();
    });

    const pulse = document.getElementById("pulse");
    const startBtn = document.getElementById("startBtn");
    const downloadBox = document.getElementById("downloadBox");
    const uploadBox = document.getElementById("uploadBox");
    const pingBox = document.getElementById("pingBox");
    const readingLine = document.getElementById("readingLine");

    async function startSpeedTest() {
      startBtn.style.display = "none";
      startBtn.classList.add("active");

      gsap.to(pulse, { scale: 1.2, repeat: -1, yoyo: true, duration: 0.6, ease: "power1.inOut" });
      let hue = 0;
      const colorAnim = gsap.to({}, {
        duration: 6,
        repeat: -1,
        onUpdate: () => {
          hue = (hue + 2) % 360;
          pulse.style.background = `linear-gradient(135deg, hsl(${hue}, 100%, 60%), hsl(${(hue+60)%360}, 100%, 60%))`;
        },
      });

      await simulatePhase("Download", downloadBox, 40, 120);
      await simulatePhase("Upload", uploadBox, 10, 60);
      await simulatePhase("Ping", pingBox, 10, 40, true);

      gsap.killTweensOf(pulse);
      colorAnim.kill();
      gsap.to(pulse, { scale: 1, duration: 0.3 });
      pulse.style.background = "linear-gradient(to-tr, from-cyan-400, to-blue-600)";
      readingLine.textContent = "âœ… Test Complete!";
      startBtn.textContent = "Reset"; // Added reset functionality
      startBtn.style.display = "block";
      startBtn.classList.remove("active");
    }

    function resetTest() {
      downloadBox.textContent = "Download: -- Mbps";
      uploadBox.textContent = "Upload: -- Mbps";
      pingBox.textContent = "Ping: -- ms";
      readingLine.textContent = "";
      startBtn.textContent = "Start Test";
    }

    function simulatePhase(label, box, min, max, isPing = false) {
      return new Promise(resolve => {
        let value = 0;
        const target = Math.floor(Math.random() * (max - min)) + min;
        readingLine.textContent = `Testing ${label}...`;
        const interval = setInterval(() => {
          value += Math.random() * (isPing ? 3 : 6);
          if (value > target) value = target;
          readingLine.textContent = `${label}: ${value.toFixed(1)} ${isPing ? "ms" : "Mbps"}`;
          if (value >= target) {
            clearInterval(interval);
            box.textContent = `${label}: ${target.toFixed(1)} ${isPing ? "ms" : "Mbps"}`;
            setTimeout(() => resolve(), 800);
          }
        }, 80);
      });
    }

    startBtn.addEventListener("click", () => {
      if (startBtn.textContent === "Reset") {
        resetTest();
      } else {
        startSpeedTest();
      }
    });

    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
